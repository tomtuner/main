<?php require('header.html'); ?>
<form action="user/process_delete/<?php echo $this->user->getId(); ?>" method="post">
	<p>Are you sure you want to delete the user "<?php echo $this->user->getFullName(); ?>"? If so, please select a replacement user from the list below. All events and associations that belonged to the user being deleted will be assigned the selected user.</p>
	<select name="replacement_id" id="replacement_id">
		<option value="0">Select one</option>
		<option value="0"></option>
		<?php foreach($replacements as $replacement): ?>
			<option value="<?php echo $replacement->getId(); ?>"><?php echo $replacement->getFullName(); ?> (<?php echo $replacement->getUsername(); ?>)</option>
		<?php endforeach; ?>
	</select>
	<div class="submit">
		<input type="submit" name="submit" value="Submit" onclick="if(document.getElementById('replacement_id').value == 0) { return confirm('Are you sure you want to delete this user without selecting a replacement? This may lead to data inconsistencies.'); }" />
	</div>
</form>
<?php require('footer.html'); ?>
